"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3534],{3539(e){e.exports=JSON.parse('{"permalink":"/blog/claude-code-router","source":"@site/blog/claude code\u4f7f\u7528\u4ee3\u7406.md","title":"claude code \u4f7f\u7528\u4ee3\u7406","description":"1.\u5b89\u88c5\u4f9d\u8d56","date":"2025-12-21T00:00:00.000Z","tags":[{"inline":true,"label":"\u6280\u672f","permalink":"/blog/tags/\u6280\u672f"},{"inline":true,"label":"claude-code","permalink":"/blog/tags/claude-code"},{"inline":true,"label":"trea","permalink":"/blog/tags/trea"}],"readingTime":1.19,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"claude code \u4f7f\u7528\u4ee3\u7406","slug":"claude-code-router","tags":["\u6280\u672f","claude-code","trea"],"keywords":["claude-code","\u4ee3\u7406","\u90aa\u4fee","trea"],"date":"2025-12-21T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u642d\u5efa\u4e2a\u4eba\u7f51\u7ad9","permalink":"/blog/server-deploy-project"},"nextItem":{"title":"\u5927\u6a21\u578b\u57fa\u7840\u5b66\u4e60","permalink":"/blog/llm-base-learning"}}')},4551(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>i});var l=r(3539),c=r(4848),t=r(8453);const a={title:"claude code \u4f7f\u7528\u4ee3\u7406",slug:"claude-code-router",tags:["\u6280\u672f","claude-code","trea"],keywords:["claude-code","\u4ee3\u7406","\u90aa\u4fee","trea"],date:new Date("2025-12-21T00:00:00.000Z")},o=void 0,d={authorsImageUrls:[]},i=[{value:"1.\u5b89\u88c5\u4f9d\u8d56",id:"1\u5b89\u88c5\u4f9d\u8d56",level:2},{value:"2.\u914d\u7f6eCCR",id:"2\u914d\u7f6eccr",level:2},{value:"3.\u542f\u52a8 CCR \u670d\u52a1",id:"3\u542f\u52a8-ccr-\u670d\u52a1",level:2},{value:"4.\u914d\u7f6eclaude code\u4e3a\u672c\u5730",id:"4\u914d\u7f6eclaude-code\u4e3a\u672c\u5730",level:2},{value:"5.\u5728trae\u91cc\u9762\u4f7f\u7528",id:"5\u5728trae\u91cc\u9762\u4f7f\u7528",level:2}];function s(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"1\u5b89\u88c5\u4f9d\u8d56",children:"1.\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,c.jsx)(n.p,{children:"claude-code"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"npm install -g @anthropic-ai/claude-code\n"})}),"\n",(0,c.jsx)(n.p,{children:"claude-code-router"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"npm install -g @musistudio/claude-code-router\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u9a8c\u8bc1\u5b89\u88c5"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"ccr -v\n"})}),"\n",(0,c.jsx)(n.h2,{id:"2\u914d\u7f6eccr",children:"2.\u914d\u7f6eCCR"}),"\n",(0,c.jsxs)(n.p,{children:["\u521b\u5efa\u6216\u7f16\u8f91 CCR \u914d\u7f6e\u6587\u4ef6\uff08\u901a\u5e38\u4f4d\u4e8e\xa0",(0,c.jsx)(n.code,{children:"~/.claude-code-router/config.json"}),"\uff09\uff1a"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "LOG": true,\n  "LOG_LEVEL": "debug",\n  "CLAUDE_PATH": "",\n  "HOST": "127.0.0.1",\n  "PORT": 3456,\n  "APIKEY": "",\n  "API_TIMEOUT_MS": "600000",\n  "PROXY_URL": "",\n  "transformers": [],\n  "Providers": [\n    {\n      "name": "mindcraft",\n      "api_base_url": "https://api.mindcraft.com.cn/v1/chat/completions",\n      "api_key": "MC-",\n      "models": [\n        "claude-sonnet-4-5-20250929",\n        "gemini-3-flash-latest",\n        "qwen3-max",\n        "gpt-5.2",\n        "gemini-3-pro-preview",\n        "GLM-4.6"\n      ],\n      "transformer": {\n        "use": [\n          "openrouter"\n        ]\n      }\n    },\n    {\n      "name": "siliconflow",\n      "api_base_url": "https://api.moonshot.cn/anthropic/",\n      "api_key": "sk-c0e7fed7b-\u4f60\u7684\u81ea\u5b9a\u4e49Key",\n      "models": [\n        "moonshotai/Kimi-K2-Instruct"\n      ]\n    }\n  ],\n  "StatusLine": {\n    "enabled": false,\n    "currentStyle": "default",\n    "default": {\n      "modules": []\n    },\n    "powerline": {\n      "modules": []\n    }\n  },\n  "Router": {\n    "default": "mindcraft,gemini-3-pro-preview",\n    "background": "mindcraft,gemini-3-pro-preview",\n    "think": "mindcraft,gpt-5.2",\n    "longContext": "mindcraft,gemini-3-pro-preview",\n    "longContextThreshold": 60000,\n    "webSearch": "mindcraft,gemini-3-pro-preview",\n    "image": "mindcraft,gemini-3-pro-preview"\n  },\n  "CUSTOM_ROUTER_PATH": ""\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"3\u542f\u52a8-ccr-\u670d\u52a1",children:"3.\u542f\u52a8 CCR \u670d\u52a1"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"ccr restart\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u4e5f\u53ef\u4ee5\u5728UI\u4e2d\u4f7f\u7528"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"ccr ui\n"})}),"\n",(0,c.jsx)(n.h2,{id:"4\u914d\u7f6eclaude-code\u4e3a\u672c\u5730",children:"4.\u914d\u7f6eclaude code\u4e3a\u672c\u5730"}),"\n",(0,c.jsx)(n.p,{children:"\u76f4\u63a5\u5728trae\u5e2e\u5fd9\u5373\u53ef"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'export ANTHROPIC_BASE_URL="http://127.0.0.1:3456/"\nexport ANTHROPIC_AUTH_TOKEN="sk-c0e7fed7b-\u4f60\u7684\u81ea\u5b9a\u4e49Key"\n'})}),"\n",(0,c.jsx)(n.h2,{id:"5\u5728trae\u91cc\u9762\u4f7f\u7528",children:"5.\u5728trae\u91cc\u9762\u4f7f\u7528"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:"\u5b89\u88c5claude\u63d2\u4ef6"}),"\n",(0,c.jsx)(n.li,{children:"\u8bbe\u7f6e\u6539\u4e3a\u5982\u4e0b\u914d\u7f6e"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'{\n    "AI.toolcall.v2.ide.mcp.autoRun": "alwaysRun",\n    "AI.toolcall.v2.ide.command.mode": "blacklist",\n    "workbench.colorTheme": "Deep Blue",\n    "workbench.experimental.cloudChanges.autoStore": "onShutdown",\n    "editor.fontSize": 18,\n    "claudeCode.preferredLocation": "panel",\n    "claudeCode.environmentVariables": [\n        {\n            "name": "ANTHROPIC_BASE_URL",\n            "value": "http://127.0.0.1:3456/"\n        },\n        {\n            "name": "ANTHROPIC_API_KEY",\n            "value": "MC-"\n        }\n    ]\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(s,{...e})}):s(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>o});var l=r(6540);const c={},t=l.createContext(c);function a(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);